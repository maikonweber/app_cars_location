<h2>Listagem de Itens</h2>
<div *ngIf="isLoading" class="loading">
  <p>Carregando itens...</p>
</div>

<div *ngIf="errorMessage" class="error">
  <p>{{ errorMessage }}</p>
</div>

<div *ngIf="!isLoading && !errorMessage">
  <!-- Controles de busca e filtros -->
  <div class="controls">
    <div class="search-section">
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        placeholder="Buscar itens..."
        (keyup.enter)="searchItems()"
      >
      <button (click)="searchItems()">ğŸ” Buscar</button>
      <button (click)="clearSearch()">ğŸ§¹ Limpar</button>
    </div>

    <div class="filter-section">
      <select [(ngModel)]="filterType">
        <option value="all">Todos</option>
        <option value="car">Carros</option>
        <option value="user">UsuÃ¡rios</option>
      </select>
      
      <select [(ngModel)]="filterStatus">
        <option value="">Todos os status</option>
        <option value="DisponÃ­vel">DisponÃ­vel</option>
        <option value="IndisponÃ­vel">IndisponÃ­vel</option>
        <option value="Ativo">Ativo</option>
        <option value="Inativo">Inativo</option>
      </select>
      
      <button (click)="applyFilters()">ğŸ” Filtrar</button>
      <button (click)="clearFilters()">ğŸ§¹ Limpar Filtros</button>
    </div>

    <div class="actions">
      <button (click)="onRefresh()">ğŸ”„ Atualizar</button>
      <button (click)="onAddNew()">â• Adicionar</button>
      <button (click)="onExport()">ğŸ“¤ Exportar</button>
      <button (click)="onPrint()">ğŸ–¨ï¸ Imprimir</button>
    </div>
  </div>

  <!-- Lista de itens -->
  <div class="items-list" *ngIf="items.length > 0">
    <div class="item-card" *ngFor="let item of items">
      <div class="item-header">
        <h3>{{ item.title }}</h3>
        <span class="item-type" [class]="'type-' + item.type">
          {{ item.type === 'car' ? 'ğŸš—' : 'ğŸ‘¤' }}
        </span>
      </div>
      
      <div class="item-content">
        <p class="subtitle">{{ item.subtitle }}</p>
        <p *ngIf="item.description" class="description">{{ item.description }}</p>
        <span class="status" [class]="'status-' + item.status.toLowerCase()">
          {{ item.status }}
        </span>
      </div>
      
      <div class="item-actions">
        <button (click)="onViewDetails(item)" class="btn-view">ğŸ‘ï¸ Ver</button>
        <button (click)="onEditItem(item)" class="btn-edit">âœï¸ Editar</button>
        <button (click)="onToggleStatus(item)" class="btn-toggle">
          {{ item.status === 'DisponÃ­vel' || item.status === 'Ativo' ? 'â¸ï¸ Pausar' : 'â–¶ï¸ Ativar' }}
        </button>
        <button (click)="onDeleteItem(item)" class="btn-delete">ğŸ—‘ï¸ Deletar</button>
      </div>
    </div>
  </div>

  <!-- Mensagem quando nÃ£o hÃ¡ itens -->
  <div *ngIf="items.length === 0" class="no-items">
    <p>Nenhum item encontrado.</p>
  </div>

  <!-- PaginaÃ§Ã£o -->
  <div class="pagination" *ngIf="totalPages > 1">
    <button 
      (click)="changePage(currentPage - 1)" 
      [disabled]="currentPage === 1"
    >
      â† Anterior
    </button>
    
    <span class="page-info">
      PÃ¡gina {{ currentPage }} de {{ totalPages }} 
      ({{ totalItems }} itens)
    </span>
    
    <button 
      (click)="changePage(currentPage + 1)" 
      [disabled]="currentPage === totalPages"
    >
      PrÃ³xima â†’
    </button>
  </div>

  <!-- Controles de itens por pÃ¡gina -->
  <div class="items-per-page">
    <label>Itens por pÃ¡gina:</label>
    <select [(ngModel)]="itemsPerPage" (change)="changeItemsPerPage(itemsPerPage)">
      <option value="5">5</option>
      <option value="10">10</option>
      <option value="20">20</option>
      <option value="50">50</option>
    </select>
  </div>
</div>

<!-- NavegaÃ§Ã£o -->
<div class="navigation">
  <button (click)="goToHome()">ğŸ  Home</button>
  <button (click)="goToFilter()">ğŸ” Filtros</button>
  <button (click)="goToLogin()">ğŸšª Login</button>
</div>
